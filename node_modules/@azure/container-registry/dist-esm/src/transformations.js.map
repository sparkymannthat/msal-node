{"version":3,"file":"transformations.js","sourceRoot":"","sources":["../../src/transformations.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAsBlC,MAAM,UAAU,4BAA4B,CAC1C,IAAwC;IAExC,qFAAqF;IACrF,OAAO,IAAI;QACT,CAAC,CAAC;YACE,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB;QACH,CAAC,CAAC,SAAS,CAAC;AAChB,CAAC;AAED,MAAM,UAAU,4BAA4B,CAC1C,IAAuC,EACvC,cAAsB,EACtB,mBAA2B;;IAE3B,uBACE,mBAAmB;QACnB,cAAc,EACd,MAAM,EAAE,IAAI,CAAC,MAAM,EACnB,WAAW,EAAE,IAAI,CAAC,IAAI,EACtB,SAAS,EAAE,IAAI,CAAC,SAAS,EACzB,aAAa,EAAE,IAAI,CAAC,aAAa,EACjC,YAAY,EAAE,MAAA,IAAI,CAAC,YAAY,mCAAI,SAAS,EAC5C,eAAe,EAAE,MAAA,IAAI,CAAC,eAAe,mCAAI,SAAS,EAClD,gBAAgB,EAAE,MAAA,IAAI,CAAC,gBAAgB,mCAAI,EAAE,EAC7C,IAAI,EAAE,MAAA,IAAI,CAAC,IAAI,mCAAI,EAAE,IAClB,4BAA4B,CAAC,IAAI,CAAC,EACrC;AACJ,CAAC;AAED,MAAM,UAAU,mBAAmB,CAAC,OAA0B;IAC5D,OAAO,OAAO,KAAK,wBAAwB;QACzC,CAAC,CAAC,SAAS;QACX,CAAC,CAAC,OAAO,KAAK,yBAAyB;YACvC,CAAC,CAAC,UAAU;YACZ,CAAC,CAAC,SAAS,CAAC;AAChB,CAAC;AAED,MAAM,UAAU,wBAAwB,CACtC,OAA+B;IAE/B,OAAO,OAAO,KAAK,wBAAwB;QACzC,CAAC,CAAC,SAAS;QACX,CAAC,CAAC,OAAO,KAAK,yBAAyB;YACvC,CAAC,CAAC,UAAU;YACZ,CAAC,CAAC,SAAS,CAAC;AAChB,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  ArtifactTagOrderBy as ServiceTagOrderBy,\n  ArtifactManifestOrderBy as ServiceManifestOrderBy,\n  ManifestWriteableProperties as ServiceManifestWritableProperties,\n  ArtifactManifestProperties as ServiceArtifactManifestProperties,\n} from \"./generated/models\";\nimport { ArtifactManifestProperties, ArtifactTagOrder, ArtifactManifestOrder } from \"./models\";\n\n/** Changeable attributes. Filter out `quarantineState` and `quarantineDetails` returned by service */\ninterface ManifestWriteableProperties {\n  /** Delete enabled */\n  canDelete?: boolean;\n  /** Write enabled */\n  canWrite?: boolean;\n  /** List enabled */\n  canList?: boolean;\n  /** Read enabled */\n  canRead?: boolean;\n}\n\nexport function toManifestWritableProperties(\n  from?: ServiceManifestWritableProperties\n): ManifestWriteableProperties | undefined {\n  // don't return unwanted properties, namely `quarantineState` and `quarantineDetails`\n  return from\n    ? {\n        canDelete: from.canDelete,\n        canList: from.canList,\n        canRead: from.canRead,\n        canWrite: from.canWrite,\n      }\n    : undefined;\n}\n\nexport function toArtifactManifestProperties(\n  from: ServiceArtifactManifestProperties,\n  repositoryName: string,\n  registryLoginServer: string\n): ArtifactManifestProperties {\n  return {\n    registryLoginServer,\n    repositoryName,\n    digest: from.digest,\n    sizeInBytes: from.size,\n    createdOn: from.createdOn,\n    lastUpdatedOn: from.lastUpdatedOn,\n    architecture: from.architecture ?? undefined,\n    operatingSystem: from.operatingSystem ?? undefined,\n    relatedArtifacts: from.relatedArtifacts ?? [],\n    tags: from.tags ?? [],\n    ...toManifestWritableProperties(from),\n  };\n}\n\nexport function toServiceTagOrderBy(orderBy?: ArtifactTagOrder): ServiceTagOrderBy | undefined {\n  return orderBy === \"LastUpdatedOnAscending\"\n    ? \"timeasc\"\n    : orderBy === \"LastUpdatedOnDescending\"\n    ? \"timedesc\"\n    : undefined;\n}\n\nexport function toServiceManifestOrderBy(\n  orderBy?: ArtifactManifestOrder\n): ServiceManifestOrderBy | undefined {\n  return orderBy === \"LastUpdatedOnAscending\"\n    ? \"timeasc\"\n    : orderBy === \"LastUpdatedOnDescending\"\n    ? \"timedesc\"\n    : undefined;\n}\n"]}